@page "/student-dashboard"

<MudLayout>
    <MudAppBar Elevation="1">
        <MudIconButton Icon="@Icons.Material.Filled.School" Edge="Edge.Start" />
        <MudText Typo="Typo.h6" Class="ml-2">CampusLearn</MudText>

        <MudSpacer />

        <MudTextField T="string"
                      Variant="Variant.Outlined"
                      Placeholder="Search courses, assignments, or resources..."
                      Adornment="Adornment.Start"
                      AdornmentIcon="@Icons.Material.Filled.Search"
                      Class="hidden-sm-and-down"
                      Style="width: 400px; background-color: var(--mud-palette-appbar-background); border-radius: 4px;"
                      Margin="Margin.Dense" />

        <MudSpacer />

        <MudIconButton Icon="@Icons.Material.Filled.Notifications" />
        <MudIconButton Icon="@Icons.Material.Filled.ChatBubble" />
        <MudAvatar Image="https://mudblazor.com/images/avatars/3.png" />
        <MudIconButton Icon="@Icons.Material.Filled.Menu" Color="Color.Inherit" Edge="Edge.End" OnClick="@((e) => _drawerOpen = !_drawerOpen)" Class="d-md-none" />
    </MudAppBar>

    <MudDrawer @bind-Open="_drawerOpen" ClipMode="DrawerClipMode.Always" Elevation="2" Variant="DrawerVariant.Persistent">
        <MudNavMenu Class="pa-2">
            <MudNavLink Href="/dashboard" Icon="@Icons.Material.Filled.Home">Home</MudNavLink>
            <MudNavLink Href="/student-dashboard" Match="NavLinkMatch.All" Icon="@Icons.Material.Filled.Dashboard">Student Dashboard</MudNavLink>
            <MudNavLink Href="/my-tutors" Icon="@Icons.Material.Filled.People">My Tutors</MudNavLink>
            <MudNavLink Href="/resources" Icon="@Icons.Material.Filled.Folder">Resources</MudNavLink>
            <MudNavLink Href="/topics" Icon="@Icons.Material.Filled.Topic">Topics</MudNavLink>
            <MudDivider Class="my-2" />
            <MudNavLink Href="/" Icon="@Icons.Material.Filled.Logout">Logout</MudNavLink>
        </MudNavMenu>
    </MudDrawer>

    <MudMainContent>
        <MudContainer MaxWidth="MaxWidth.False" Class="mt-6 px-4">

            <!-- WELCOME BANNER -->
            <MudPaper Class="pa-4 rounded-lg mud-theme-primary" Elevation="0">
                <MudText Typo="Typo.h5" Style="color: white;"><b>Welcome back, Sarah! 👋</b></MudText>
                <MudText Typo="Typo.body1" Style="color: white;" Class="mb-2">Ready to continue your learning journey?</MudText>

                <MudGrid>
                    <MudItem xs="6" sm="3" md="2">
                        <MudText Typo="Typo.h4" Style="color: white;"><b>6</b></MudText>
                        <MudText Typo="Typo.body2" Style="color: white;">Active Courses</MudText>
                    </MudItem>
                    <MudItem xs="6" sm="3" md="2">
                        <MudText Typo="Typo.h4" Style="color: white;"><b>89%</b></MudText>
                        <MudText Typo="Typo.body2" Style="color: white;">Avg. Progress</MudText>
                    </MudItem>
                </MudGrid>
            </MudPaper>

            <!-- MY COURSES SECTION -->
            <div class="d-flex justify-space-between align-center mt-6 mb-2" style="Width:100px "padding-right:200px">
                <MudText Typo="Typo.h6"><b>My Courses</b></MudText>
                <MudSelect T="string" Value="@("All Courses")" Variant="Variant.Outlined" Dense="true" Style="width: 150px;">
                    <MudSelectItem Value="@("All Courses")">All Courses</MudSelectItem>
                    <MudSelectItem Value="@("Active")">Active</MudSelectItem>
                    <MudSelectItem Value="@("Completed")">Completed</MudSelectItem>
                </MudSelect>
            </div>

            <!-- COURSE CARDS GRID -->
            <MudGrid Spacing="3">
                <!-- Course 1: PRG 381 -->
                <MudItem xs="12" sm="6" md="4">
                    <MudPaper Outlined="true" Class="pa-4 rounded-lg" Height="100%">
                        <div class="d-flex justify-space-between">
                            <MudAvatar Color="Color.Primary" Rounded="true">
                                <MudIcon Icon="@Icons.Material.Filled.Code" />
                            </MudAvatar>
                            <MudChip T="string" Label="true" Size="Size.Small" Color="Color.Success">Active</MudChip>
                        </div>
                        <MudText Typo="Typo.h6" Class="mt-3 mb-0"><b>PRG 381</b></MudText>
                        <MudText Typo="Typo.body2" Color="Color.Inherit">Prof. Michael Chen</MudText>

                        <MudText Typo="Typo.caption" Class="mt-3">Progress</MudText>
                        <MudProgressLinear Color="Color.Primary" Value="85" Class="mt-1" />

                        <MudButton Variant="Variant.Filled" Color="Color.Primary" FullWidth="true" Class="mt-4">View Course</MudButton>
                    </MudPaper>
                </MudItem>

                <!-- Course 2: MATH 381 -->
                <MudItem xs="12" sm="6" md="4">
                    <MudPaper Outlined="true" Class="pa-4 rounded-lg" Height="100%">
                        <div class="d-flex justify-space-between">
                            <MudAvatar Color="Color.Info" Rounded="true">
                                <MudIcon Icon="@Icons.Material.Filled.Calculate" />
                            </MudAvatar>
                            <MudChip T="string" Label="true" Size="Size.Small" Color="Color.Success">Active</MudChip>
                        </div>
                        <MudText Typo="Typo.h6" Class="mt-3 mb-0"><b>MATH 381</b></MudText>
                        <MudText Typo="Typo.body2" Color="Color.Inherit">Dr. Emily Rodriguez</MudText>

                        <MudText Typo="Typo.caption" Class="mt-3">Progress</MudText>
                        <MudProgressLinear Color="Color.Info" Value="72" Class="mt-1" />

                        <MudButton Variant="Variant.Filled" Color="Color.Primary" FullWidth="true" Class="mt-4">View Course</MudButton>
                    </MudPaper>
                </MudItem>

                <!-- Course 3: PRJ 381 -->
                <MudItem xs="12" sm="6" md="4">
                    <MudPaper Outlined="true" Class="pa-4 rounded-lg" Height="100%">
                        <div class="d-flex justify-space-between">
                            <MudAvatar Color="Color.Success" Rounded="true">
                                <MudIcon Icon="@Icons.Material.Filled.AccountTree" />
                            </MudAvatar>
                            <MudChip T="string" Label="true" Size="Size.Small" Color="Color.Success">Active</MudChip>
                        </div>
                        <MudText Typo="Typo.h6" Class="mt-3 mb-0"><b>PRJ 381</b></MudText>
                        <MudText Typo="Typo.body2" Color="Color.Inherit">Prof. David Thompson</MudText>

                        <MudText Typo="Typo.caption" Class="mt-3">Progress</MudText>
                        <MudProgressLinear Color="Color.Success" Value="85" class="mt-1" />

                        <MudButton Variant="Variant.Filled" Color="Color.Primary" FullWidth="true" Class="mt-4">View Course</MudButton>
                    </MudPaper>
                </MudItem>

                <!-- Course 4: UX/UI 381 -->
                <MudItem xs="12" sm="6" md="4">
                    <MudPaper Outlined="true" Class="pa-4 rounded-lg" Height="100%">
                        <div class="d-flex justify-space-between">
                            <MudAvatar Color="Color.Error" Rounded="true">
                                <MudIcon Icon="@Icons.Material.Filled.DesignServices" />
                            </MudAvatar>
                            <MudChip T="string" Label="true" Size="Size.Small" Color="Color.Warning">Due Soon</MudChip>
                        </div>
                        <MudText Typo="Typo.h6" Class="mt-3 mb-0"><b>UX/UI 381</b></MudText>
                        <MudText Typo="Typo.body2" Color="Color.Inherit">Prof. Sarah Williams</MudText>

                        <MudText Typo="Typo.caption" Class="mt-3">Progress</MudText>
                        <MudProgressLinear Color="Color.Error" Value="62" Class="mt-1" />

                        <MudButton Variant="Variant.Filled" Color="Color.Primary" FullWidth="true" Class="mt-4">View Course</MudButton>
                    </MudPaper>
                </MudItem>

                <!-- Course 5: MLG 381 -->
                <MudItem xs="12" sm="6" md="4">
                    <MudPaper Outlined="true" Class="pa-4 rounded-lg" Height="100%">
                        <div class="d-flex justify-space-between">
                            <MudAvatar Style="background-color: #6e42c1;" Rounded="true">
                                <MudIcon Icon="@Icons.Material.Filled.DataObject" />
                            </MudAvatar>
                            <MudChip T="string" Label="true" Size="Size.Small" Color="Color.Success">Active</MudChip>
                        </div>
                        <MudText Typo="Typo.h6" Class="mt-3 mb-0"><b>MLG 381</b></MudText>
                        <MudText Typo="Typo.body2" Color="Color.Inherit">Dr. James Parker</MudText>

                        <MudText Typo="Typo.caption" Class="mt-3">Progress</MudText>
                        <MudProgressLinear Style="color: #6e42c1;" Value="78" Class="mt-1" />

                        <MudButton Variant="Variant.Filled" Color="Color.Primary" FullWidth="true" Class="mt-4">View Course</MudButton>
                    </MudPaper>
                </MudItem>

                <!-- Course 6: WPR 381 -->
                <MudItem xs="12" sm="6" md="4">
                    <MudPaper Outlined="true" Class="pa-4 rounded-lg" Height="100%">
                        <div class="d-flex justify-space-between">
                            <MudAvatar Color="Color.Warning" Rounded="true">
                                <MudIcon Icon="@Icons.Material.Filled.Web" />
                            </MudAvatar>
                            <MudChip T="string" Label="true" Size="Size.Small" Color="Color.Default">Completed</MudChip>
                        </div>
                        <MudText Typo="Typo.h6" Class="mt-3 mb-0"><b>WPR 381</b></MudText>
                        <MudText Typo="Typo.body2" Color="Color.Inherit">Prof. Lisa Anderson</MudText>

                        <MudText Typo="Typo.caption" Class="mt-3">Progress</MudText>
                        <MudProgressLinear Color="Color.Warning" Value="100" Class="mt-1" />

                        <MudButton Variant="Variant.Outlined" Color="Color.Primary" FullWidth="true" Class="mt-4">View Certificate</MudButton>
                    </MudPaper>
                </MudItem>
            </MudGrid>

            <!-- RECENT ACTIVITY SECTION -->
            <MudText Typo="Typo.h6" Class="mt-6 mb-2"><b>Recent Activity</b></MudText>
            <MudPaper Outlined="true" Class="mb-6">
                <MudList T="object" Clickable="false">
                    <MudListItem T="object">
                        <MudAvatar Color="Color.Success" Rounded="true">
                            <MudIcon Icon="@Icons.Material.Filled.Check" />
                        </MudAvatar>
                        <div class="ml-3">
                            <MudText Typo="Typo.body1">Completed Physics Session</MudText>
                            <MudText Typo="Typo.caption">3 hours ago</MudText>
                        </div>
                    </MudListItem>
                    <MudDivider />
                    <MudListItem T="object">
                        <MudAvatar Color="Color.Primary" Rounded="true">
                            <MudIcon Icon="@Icons.Material.Filled.LibraryBooks" />
                        </MudAvatar>
                        <div classThis="ml-3">
                            <MudText Typo="Typo.body1">Started new chapter in MATH 381</MudText>
                            <MudText Typo="Typo.caption">5 hours ago</MudText>
                        </div>
                    </MudListItem>
                    <MudDivider />
                    <MudListItem T="object">
                        <MudAvatar Color="Color.Warning" Rounded="true">
                            <MudIcon Icon="@Icons.Material.Filled.Feedback" />
                        </MudAvatar>
                        <div class="ml-3">
                            <MudText Typo="Typo.body1">Received feedback on UX/UI 381</MudText>
                            <MudText Typo="Typo.caption">1 day ago</MudText>
                        </div>
                    </MudListItem>
                </MudList>
            </MudPaper>

        </MudContainer>
    </MudMainContent>
</MudLayout>

@code {
    private bool _drawerOpen = true;
}

